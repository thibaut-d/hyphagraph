{
  "version": "2.0.0",
  "tasks": [
    // --------------------------------------------------
    // Backend (Python / FastAPI)
    // --------------------------------------------------
    {
      "label": "Backend: run (uvicorn)",
      "type": "shell",
      "command": "uvicorn app.main:app --reload --port 8000",
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": [],
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "Backend: lint (ruff)",
      "type": "shell",
      "command": "ruff check .",
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": []
    },
    {
      "label": "Backend: format (ruff)",
      "type": "shell",
      "command": "ruff format .",
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": []
    },
    {
      "label": "Backend: tests (pytest)",
      "type": "shell",
      "command": "pytest",
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": []
    },

    // --------------------------------------------------
    // Frontend (Vite / React / TS)
    // --------------------------------------------------
    {
      "label": "Frontend: dev (vite)",
      "type": "shell",
      "command": "npm run dev",
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": []
    },
    {
      "label": "Frontend: build",
      "type": "shell",
      "command": "npm run build",
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": []
    },
    {
      "label": "Frontend: lint (eslint)",
      "type": "shell",
      "command": "npm run lint",
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": []
    },
    {
      "label": "Frontend: format (prettier)",
      "type": "shell",
      "command": "npm run format",
      "options": {
        "cwd": "${workspaceFolder}/frontend"
      },
      "problemMatcher": []
    },

    // --------------------------------------------------
    // Docker / Infra
    // --------------------------------------------------
    {
      "label": "Docker: up",
      "type": "shell",
      "command": "docker compose up --build",
      "problemMatcher": []
    },
    {
      "label": "Docker: down",
      "type": "shell",
      "command": "docker compose down",
      "problemMatcher": []
    },

    // --------------------------------------------------
    // Database
    // --------------------------------------------------
    {
      "label": "DB: alembic upgrade",
      "type": "shell",
      "command": "alembic upgrade head",
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": []
    },
    {
      "label": "DB: alembic revision (autogen)",
      "type": "shell",
      "command": "alembic revision --autogenerate -m \"schema update\"",
      "options": {
        "cwd": "${workspaceFolder}/backend"
      },
      "problemMatcher": []
    }
  ]
}